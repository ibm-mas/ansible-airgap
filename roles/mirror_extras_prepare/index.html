<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://ibm-mas.github.io/ansible-airgap/roles/mirror_extras_prepare/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>mirror_extras_prepare - MAS Airgap Collection</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../../extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "mirror_extras_prepare";
        var mkdocs_page_input_path = "roles/mirror_extras_prepare.md";
        var mkdocs_page_url = "/ansible-airgap/roles/mirror_extras_prepare/";
      </script>
    
    <script src="../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/yaml.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> MAS Airgap Collection
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../changes/">Changes</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Roles</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../install_digest_cm/">install_digest_cm</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../mirror_case_prepare/">mirror_case_prepare</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">mirror_extras_prepare</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#available-extras">Available Extras</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#role-variables">Role Variables</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#extras_name">extras_name</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#extras_version">extras_version</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#registry_public_host">registry_public_host</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#registry_public_port">registry_public_port</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#example-playbook">Example Playbook</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#license">License</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../mirror_images/">mirror_images</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_contentsourcepolicy/">ocp_contentsourcepolicy</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_operators_mirror/">ocp_operators_mirror</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_release_mirror/">ocp_release_mirror</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../registry/">registry</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../simulate_network/">simulate_network</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">MAS Airgap Collection</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>Roles &raquo;</li>
      <li>mirror_extras_prepare</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/ibm-mas/ansible-airgap/blob/master/docs/roles/mirror_extras_prepare.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="mirror_extras_prepare">mirror_extras_prepare<a class="headerlink" href="#mirror_extras_prepare" title="Permanent link"></a></h1>
<p>This role generates a mirror manifest file suitable for use with the <code>oc mirror</code> command (or the <code>ibm.mas_airgap.mirror_images</code> role) for a specific set of extra images.</p>
<h2 id="available-extras">Available Extras<a class="headerlink" href="#available-extras" title="Permanent link"></a></h2>
<table>
<thead>
<tr>
<th>Extra</th>
<th>Versions</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>catalog</td>
<td>N/A</td>
<td>Special extra package for mirroring the IBM Maximo Operator Catalog</td>
</tr>
<tr>
<td>db2u</td>
<td>1.0.0</td>
<td>Extra container images missing from the ibm-db2operator CASE bundle</td>
</tr>
<tr>
<td>mongoce</td>
<td>4.2.6</td>
<td>Package containing all images required to use MongoCE Operator in the disconnected environment</td>
</tr>
<tr>
<td>uds</td>
<td>1.0.0, 1.1.0</td>
<td>Extra container images missing from the ibm-uds CASE bundle</td>
</tr>
</tbody>
</table>
<h2 id="role-variables">Role Variables<a class="headerlink" href="#role-variables" title="Permanent link"></a></h2>
<h3 id="extras_name">extras_name<a class="headerlink" href="#extras_name" title="Permanent link"></a></h3>
<p>The name of the extras package to prepare for mirroring.</p>
<ul>
<li><strong>Required</strong></li>
<li>Environment Variable: <code>EXTRAS_NAME</code></li>
<li>Default: None</li>
</ul>
<h3 id="extras_version">extras_version<a class="headerlink" href="#extras_version" title="Permanent link"></a></h3>
<p>The version of the extras package to prepare for mirroring.</p>
<ul>
<li><strong>Required</strong></li>
<li>Environment Variable: <code>EXTRAS_VERSION</code></li>
<li>Default: None</li>
</ul>
<h3 id="registry_public_host">registry_public_host<a class="headerlink" href="#registry_public_host" title="Permanent link"></a></h3>
<p>The public hostname for the target registry.  The images will not be mirrored to the registry at this time, but to prepare the manifest we need to know the target destination.</p>
<ul>
<li><strong>Required</strong></li>
<li>Environment Variable: <code>REGISTRY_PUBLIC_HOST</code></li>
<li>Default: None</li>
</ul>
<h3 id="registry_public_port">registry_public_port<a class="headerlink" href="#registry_public_port" title="Permanent link"></a></h3>
<p>The public port for the target registry.  The images will not be mirrored to the registry at this time, but to prepare the manifest we need to know the target destination.</p>
<ul>
<li><strong>Required</strong></li>
<li>Environment Variable: <code>REGISTRY_PUBLIC_PORT</code></li>
<li>Default: None</li>
</ul>
<h2 id="example-playbook">Example Playbook<a class="headerlink" href="#example-playbook" title="Permanent link"></a></h2>
<pre><code class="language-yaml">- hosts: localhost
  vars:
    extras_name: mongoce
    extras_version: 4.2.6

    registry_public_host: myocp-5f1320191125833da1cac8216c06779e-0000.us-south.containers.appdomain.cloud
    registry_public_port: 32500

  roles:
    - ibm.mas_airgap.mirror_extras_prepare
</code></pre>
<h2 id="license">License<a class="headerlink" href="#license" title="Permanent link"></a></h2>
<p>EPL-2.0</p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/ibm-mas/ansible-airgap" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../mirror_case_prepare/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../mirror_images/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
